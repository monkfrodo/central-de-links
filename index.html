<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Links">
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#000" id="tc">
<title>Links</title>
<style>
  :root {
    --bg:    #000;
    --card:  #111;
    --line:  rgba(255,255,255,.06);
    --t1:    #fff;
    --t2:    rgba(255,255,255,.5);
    --t3:    rgba(255,255,255,.2);
    --inv:   #000;
    --pill:  rgba(255,255,255,.07);
    --pill-a:rgba(255,255,255,.95);
    --ok:    #34d399;
    --warn:  #fbbf24;
    --err:   #f87171;
    --ok-bg: rgba(52,211,153,.1);
    --shade: rgba(0,0,0,.55);
    --pop:   #1c1c1e;
    --pop-b: rgba(255,255,255,.08);
    --pop-sh:0 24px 64px rgba(0,0,0,.7);
    --safe-t:env(safe-area-inset-top,0px);
    --safe-b:env(safe-area-inset-bottom,0px);
    color-scheme: dark;
  }
  @media(prefers-color-scheme:light){:root{
    --bg:    #f2f2f7;
    --card:  #fff;
    --line:  rgba(0,0,0,.06);
    --t1:    #000;
    --t2:    rgba(0,0,0,.45);
    --t3:    rgba(0,0,0,.12);
    --inv:   #fff;
    --pill:  rgba(0,0,0,.05);
    --pill-a:#000;
    --ok:    #16a34a;
    --warn:  #ca8a04;
    --err:   #dc2626;
    --ok-bg: rgba(22,163,74,.08);
    --shade: rgba(0,0,0,.3);
    --pop:   #fff;
    --pop-b: rgba(0,0,0,.06);
    --pop-sh:0 24px 64px rgba(0,0,0,.15);
    color-scheme: light;
  }}

  *{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
  html{height:100%;overflow:hidden}
  body{font-family:-apple-system,BlinkMacSystemFont,'SF Pro Text',system-ui,sans-serif;background:var(--bg);color:var(--t1);height:100%;overflow:hidden;-webkit-font-smoothing:antialiased}
  .app{display:flex;flex-direction:column;height:100%}

  /* -- Top bar -- */
  .top{padding:calc(16px + var(--safe-t)) 20px 0;flex-shrink:0}
  .top-row{display:flex;align-items:center;justify-content:space-between;height:44px;margin-bottom:12px}
  .top h1{font-size:34px;font-weight:700;letter-spacing:-.5px}
  .top-btns{display:flex;gap:2px}
  .ib{width:36px;height:36px;border-radius:50%;border:none;background:transparent;color:var(--t2);cursor:pointer;display:flex;align-items:center;justify-content:center}
  .ib:active{background:var(--pill)}
  .ib svg{width:20px;height:20px}

  /* -- Search -- */
  .sbox{position:relative;margin-bottom:12px}
  .sbox svg{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:var(--t3);width:17px;height:17px;pointer-events:none}
  #s{width:100%;padding:10px 34px 10px 34px;background:var(--pill);border:none;border-radius:12px;color:var(--t1);font-size:17px;outline:none;-webkit-appearance:none}
  #s::placeholder{color:var(--t3)}
  .sx{position:absolute;right:8px;top:50%;transform:translateY(-50%);width:22px;height:22px;border-radius:50%;background:var(--t3);border:none;color:var(--bg);font-size:12px;font-weight:700;cursor:pointer;display:none;align-items:center;justify-content:center}
  .sx.on{display:flex}

  /* -- Pills -- */
  .pills{display:flex;gap:8px;overflow-x:auto;scrollbar-width:none;-webkit-overflow-scrolling:touch;margin:0 -20px;padding:0 20px 14px}
  .pills::-webkit-scrollbar{display:none}
  .pill{padding:7px 16px;border-radius:100px;border:none;background:var(--pill);color:var(--t2);font-size:14px;font-weight:500;font-family:inherit;cursor:pointer;white-space:nowrap;flex-shrink:0;-webkit-appearance:none;transition:all .15s}
  .pill:active{transform:scale(.95)}
  .pill.on{background:var(--pill-a);color:var(--inv);font-weight:600}

  /* -- Scroll -- */
  .sc{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;padding:0 20px calc(80px + var(--safe-b))}

  /* -- Section -- */
  .sec{margin-bottom:8px}
  .sec-t{font-size:13px;font-weight:600;color:var(--t2);padding:20px 0 8px;letter-spacing:.2px}

  /* -- Card group -- */
  .cg{background:var(--card);border-radius:14px;overflow:hidden}

  /* -- Row -- */
  .row{display:flex;align-items:center;gap:12px;padding:13px 14px;position:relative;cursor:pointer;transition:background .1s}
  .row:active{background:var(--pill)}
  .row+.row::before{content:'';position:absolute;top:0;left:14px;right:14px;height:1px;background:var(--line)}

  .row-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}
  .row-dot.on{background:var(--ok)}.row-dot.test{background:var(--warn)}.row-dot.off{background:var(--t3)}

  .row-body{flex:1;min-width:0}
  .row-name{font-size:16px;font-weight:400;line-height:1.3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .row-sub{font-size:13px;color:var(--t2);margin-top:1px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

  .row-cp{width:36px;height:36px;border-radius:10px;border:none;background:var(--pill);color:var(--t2);cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;-webkit-appearance:none;transition:all .15s}
  .row-cp:active{transform:scale(.88)}
  .row-cp svg{width:16px;height:16px}
  .row-cp.ok{background:var(--ok-bg);color:var(--ok)}

  /* -- FAB -- */
  .fab{position:fixed;bottom:calc(20px + var(--safe-b));right:20px;width:54px;height:54px;border-radius:50%;background:var(--pill-a);border:none;color:var(--inv);font-size:26px;font-weight:300;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:50;-webkit-appearance:none}
  .fab:active{transform:scale(.88)}

  /* -- Overlay -- */
  .ov{display:none;position:fixed;inset:0;background:var(--shade);z-index:200}
  .ov.on{display:block}

  /* -- Sheet -- */
  .sh{position:fixed;bottom:0;left:0;right:0;background:var(--card);border-radius:16px 16px 0 0;padding:8px 20px calc(16px + var(--safe-b));z-index:201;transform:translateY(100%);transition:transform .32s cubic-bezier(.32,.72,0,1);max-height:90vh;overflow-y:auto;-webkit-overflow-scrolling:touch}
  .sh.on{transform:translateY(0)}
  .sh-bar{width:36px;height:5px;border-radius:3px;background:var(--t3);margin:0 auto 16px}
  .sh h2{font-size:17px;font-weight:600;text-align:center;margin-bottom:20px}
  .fi{margin-bottom:14px}
  .fi label{display:block;font-size:13px;color:var(--t2);margin-bottom:5px;font-weight:500}
  .fi input,.fi select,.fi textarea{width:100%;padding:12px 14px;background:var(--pill);border:1px solid var(--line);border-radius:10px;color:var(--t1);font-size:16px;font-family:inherit;outline:none;-webkit-appearance:none}
  .fi input:focus,.fi select:focus,.fi textarea:focus{border-color:var(--t3)}
  .fi textarea{resize:none;min-height:56px}
  .sh-btns{display:flex;gap:10px;margin-top:18px}
  .sb{flex:1;padding:15px;border-radius:14px;border:none;font-size:16px;font-weight:600;font-family:inherit;cursor:pointer;-webkit-appearance:none}
  .sb:active{transform:scale(.97)}
  .sb-c{background:var(--pill);color:var(--t2)}
  .sb-s{background:var(--pill-a);color:var(--inv);flex:2}

  /* -- Popup menu -- */
  .pm-ov{display:none;position:fixed;inset:0;z:300}
  .pm-ov.on{display:block}
  .pm{position:fixed;background:var(--pop);border:1px solid var(--pop-b);border-radius:14px;padding:4px;min-width:180px;z-index:301;box-shadow:var(--pop-sh);display:none}
  .pm-i{display:flex;align-items:center;gap:10px;padding:11px 14px;border-radius:10px;border:none;background:transparent;color:var(--t1);font-size:15px;font-family:inherit;width:100%;cursor:pointer;text-align:left}
  .pm-i:active{background:var(--pill)}
  .pm-i svg{width:17px;height:17px;flex-shrink:0;color:var(--t2)}
  .pm-i.red{color:var(--err)}
  .pm-i.red svg{color:var(--err)}
  .pm-sep{height:1px;background:var(--line);margin:4px 10px}

  /* -- Toast -- */
  .toast{position:fixed;bottom:calc(88px + var(--safe-b));left:50%;transform:translateX(-50%) translateY(60px);background:var(--pop);color:var(--t1);padding:10px 22px;border-radius:100px;font-size:14px;font-weight:500;z-index:400;transition:transform .25s cubic-bezier(.16,1,.3,1);pointer-events:none;white-space:nowrap;box-shadow:var(--pop-sh)}
  .toast.on{transform:translateX(-50%) translateY(0)}

  .empty{text-align:center;padding:80px 20px;color:var(--t3);font-size:15px}

  @media(min-width:640px){
    .top,.sc{max-width:560px;margin-left:auto;margin-right:auto}
    .pills{margin:0;padding-left:0;padding-right:0}
    .sh{left:50%;right:auto;width:440px;transform:translateX(-50%) translateY(100%)}
    .sh.on{transform:translateX(-50%) translateY(0)}
    .fab{right:calc(50% - 280px + 20px)}
  }
</style>
</head>
<body>

<div class="app">
  <div class="top">
    <div class="top-row">
      <h1>Links</h1>
      <div class="top-btns">
        <button class="ib" onclick="xport()" title="Exportar"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.6"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"/></svg></button>
        <button class="ib" onclick="document.getElementById('imp').click()" title="Importar"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.6"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"/></svg></button>
        <input type="file" id="imp" accept=".json" style="display:none" onchange="imp(event)">
      </div>
    </div>
    <div class="sbox">
      <svg fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"/></svg>
      <input type="text" id="s" placeholder="Buscar..." autocomplete="off">
      <button class="sx" id="sx" onclick="clrS()">x</button>
    </div>
    <div class="pills" id="pills"></div>
  </div>
  <div class="sc"><div id="list"></div></div>
</div>

<button class="fab" onclick="addNew()">+</button>

<div class="ov" id="ov" onclick="clSh()"></div>
<div class="sh" id="sh">
  <div class="sh-bar"></div>
  <h2 id="shT">Novo link</h2>
  <div class="fi"><label>Nome</label><input id="fN" placeholder="Ex: Checkout - Produto X"></div>
  <div class="fi"><label>URL</label><input id="fU" type="url" placeholder="https://..."></div>
  <div class="fi"><label>Produto</label><input id="fP" placeholder="Nome do produto"></div>
  <div class="fi"><label>Categoria</label>
    <select id="fC"><option>Checkout</option><option>Pagina de Vendas</option><option>Landing Page</option><option>Pagina de Obrigado</option><option>Upsell</option><option>Downsell</option><option>Webinar</option><option>Outro</option></select>
  </div>
  <div class="fi"><label>Status</label>
    <select id="fS"><option>Ativo</option><option>Inativo</option><option>Em Teste</option></select>
  </div>
  <div class="fi"><label>Plataforma</label>
    <select id="fPl"><option>Hotmart</option><option>Kiwify</option><option>Eduzz</option><option>Monetizze</option><option>Shopify</option><option>Outro</option></select>
  </div>
  <div class="fi"><label>Notas</label><textarea id="fNo" placeholder="Opcional..."></textarea></div>
  <div class="sh-btns">
    <button class="sb sb-c" onclick="clSh()">Cancelar</button>
    <button class="sb sb-s" onclick="svLnk()">Salvar</button>
  </div>
</div>

<div class="pm-ov" id="pmOv" onclick="clPm()"></div>
<div class="pm" id="pm"></div>
<div class="toast" id="toast"></div>

<script>
const D=[
  {n:"Curso de Copy - Checkout",u:"https://pay.kiwify.com.br/exemplo-copy",p:"Curso de Copy",c:"Checkout",s:"Ativo",pl:"Kiwify",no:"Checkout principal - R$297"},
  {n:"Curso de Copy - VSL",u:"https://seudominio.com/curso-copy",p:"Curso de Copy",c:"Pagina de Vendas",s:"Ativo",pl:"Kiwify",no:"VSL de 18 min"},
  {n:"Curso de Copy - Captura",u:"https://seudominio.com/ebook-copy-gratis",p:"Curso de Copy",c:"Landing Page",s:"Ativo",pl:"Kiwify",no:"Isca digital"},
  {n:"Curso de Copy - Upsell",u:"https://pay.kiwify.com.br/upsell-copy",p:"Curso de Copy",c:"Upsell",s:"Ativo",pl:"Kiwify",no:"Copy Avancado R$197"},
  {n:"Mentoria - Checkout",u:"https://pay.hotmart.com/exemplo-mentoria",p:"Mentoria Premium",c:"Checkout",s:"Ativo",pl:"Hotmart",no:"Com order bump"},
  {n:"Mentoria - Vendas",u:"https://seudominio.com/mentoria-premium",p:"Mentoria Premium",c:"Pagina de Vendas",s:"Ativo",pl:"Hotmart",no:"Pagina longa"},
  {n:"Mentoria - Obrigado",u:"https://seudominio.com/obrigado-mentoria",p:"Mentoria Premium",c:"Pagina de Obrigado",s:"Ativo",pl:"Hotmart",no:"Redireciona WhatsApp"},
  {n:"Mini Curso - LP",u:"https://seudominio.com/minicurso-gratis",p:"Mini Curso",c:"Landing Page",s:"Em Teste",pl:"Kiwify",no:"Teste A/B"}
];

let lnks=[...D],flt="Todos",qry="",eIdx=-1;

function ld(){const x=localStorage.getItem("lnks4");if(x)try{lnks=JSON.parse(x)}catch(e){}}
function sv(){localStorage.setItem("lnks4",JSON.stringify(lnks))}
ld();

// Theme meta
(function(){
  const m=window.matchMedia('(prefers-color-scheme:light)');
  const u=()=>document.getElementById('tc').content=m.matches?'#f2f2f7':'#000';
  u();m.addEventListener('change',u);
})();

function dc(s){return s==="Ativo"?"on":s==="Em Teste"?"test":"off"}

function filt(){
  return lnks.filter(l=>{
    if(flt!=="Todos"&&l.c!==flt)return false;
    if(qry){const q=qry.toLowerCase();
      return l.n.toLowerCase().includes(q)||l.u.toLowerCase().includes(q)||
        l.p.toLowerCase().includes(q)||(l.no||'').toLowerCase().includes(q)||
        l.c.toLowerCase().includes(q)||l.pl.toLowerCase().includes(q);}
    return true;
  });
}

function rPills(){
  const cs=["Todos",...new Set(lnks.map(l=>l.c))].sort((a,b)=>a==="Todos"?-1:a.localeCompare(b));
  document.getElementById("pills").innerHTML=cs.map(c=>`<button class="pill ${c===flt?'on':''}" onclick="setF('${c}')">${c}</button>`).join("");
}

function render(){
  rPills();
  const items=filt(),el=document.getElementById("list");
  if(!items.length){el.innerHTML='<div class="empty">Nenhum link encontrado</div>';return;}
  const g={};
  items.forEach(l=>{const k=l.p||"Outros";if(!g[k])g[k]=[];g[k].push(l);});
  let h="";
  Object.keys(g).sort().forEach(k=>{
    h+=`<div class="sec"><div class="sec-t">${k}</div><div class="cg">`;
    g[k].forEach(l=>{
      const i=lnks.indexOf(l);
      h+=`<div class="row" onclick="openPm(event,${i})">
        <div class="row-dot ${dc(l.s)}"></div>
        <div class="row-body">
          <div class="row-name">${l.n}</div>
          <div class="row-sub">${l.c} Â· ${l.pl}</div>
        </div>
        <button class="row-cp" id="cp${i}" onclick="event.stopPropagation();cp(${i})">
          <svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>
        </button>
      </div>`;
    });
    h+=`</div></div>`;
  });
  el.innerHTML=h;
}

function cp(i){
  const u=lnks[i].u;
  navigator.clipboard.writeText(u).then(()=>{
    const b=document.getElementById(`cp${i}`);if(!b)return;
    b.classList.add("ok");
    b.innerHTML='<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"/></svg>';
    msg("Link copiado");
    setTimeout(()=>{if(!document.getElementById(`cp${i}`))return;b.classList.remove("ok");
      b.innerHTML='<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 002 2z"/></svg>';
    },1200);
  }).catch(()=>msg("Link copiado"));
}

function setF(c){flt=c;render();}
function clrS(){document.getElementById("s").value="";qry="";document.getElementById("sx").classList.remove("on");render();}
function msg(m){const t=document.getElementById("toast");t.textContent=m;t.classList.add("on");setTimeout(()=>t.classList.remove("on"),1800);}

// -- Popup menu --
function openPm(e,i){
  e.stopPropagation();
  const pm=document.getElementById("pm"),l=lnks[i];
  pm.innerHTML=`
    <button class="pm-i" onclick="cp(${i});clPm()"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/></svg>Copiar link</button>
    <button class="pm-i" onclick="window.open('${l.u}','_blank');clPm()"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-4.5-6h6m0 0v6m0-6L9.75 14.25"/></svg>Abrir no navegador</button>
    <div class="pm-sep"></div>
    <button class="pm-i" onclick="edLnk(${i});clPm()"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487z"/></svg>Editar</button>
    <button class="pm-i red" onclick="rmLnk(${i});clPm()"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79"/></svg>Remover</button>`;
  const r=e.currentTarget.getBoundingClientRect();
  const y=Math.min(r.top+r.height/2, window.innerHeight-220);
  const x=Math.min(r.right-10, window.innerWidth-200);
  pm.style.cssText=`display:block;top:${y}px;left:${Math.max(10,x-180)}px`;
  document.getElementById("pmOv").classList.add("on");
}
function clPm(){document.getElementById("pm").style.display='none';document.getElementById("pmOv").classList.remove("on");}

// -- Sheet --
function addNew(){
  eIdx=-1;
  document.getElementById("shT").textContent="Novo link";
  ["fN","fU","fP","fNo"].forEach(id=>document.getElementById(id).value="");
  document.getElementById("fC").value="Checkout";
  document.getElementById("fS").value="Ativo";
  document.getElementById("fPl").value="Hotmart";
  opSh();
}
function edLnk(i){
  eIdx=i;const l=lnks[i];
  document.getElementById("shT").textContent="Editar link";
  document.getElementById("fN").value=l.n;
  document.getElementById("fU").value=l.u;
  document.getElementById("fP").value=l.p;
  document.getElementById("fC").value=l.c;
  document.getElementById("fS").value=l.s;
  document.getElementById("fPl").value=l.pl;
  document.getElementById("fNo").value=l.no||"";
  opSh();
}
function opSh(){document.getElementById("ov").classList.add("on");requestAnimationFrame(()=>document.getElementById("sh").classList.add("on"));}
function clSh(){document.getElementById("sh").classList.remove("on");setTimeout(()=>document.getElementById("ov").classList.remove("on"),320);}
function svLnk(){
  const n=document.getElementById("fN").value.trim(),u=document.getElementById("fU").value.trim(),p=document.getElementById("fP").value.trim();
  if(!n||!u){msg("Preencha nome e URL");return;}
  const d={n,u,p,c:document.getElementById("fC").value,s:document.getElementById("fS").value,pl:document.getElementById("fPl").value,no:document.getElementById("fNo").value.trim()};
  if(eIdx>=0){lnks[eIdx]=d;msg("Atualizado");}else{lnks.push(d);msg("Adicionado");}
  sv();clSh();render();
}
function rmLnk(i){if(confirm('Remover "'+lnks[i].n+'"?')){lnks.splice(i,1);sv();render();msg("Removido");}}

function xport(){
  const out=lnks.map(l=>({name:l.n,url:l.u,product:l.p,category:l.c,status:l.s,platform:l.pl,notes:l.no}));
  const a=document.createElement('a');
  a.href=URL.createObjectURL(new Blob([JSON.stringify(out,null,2)],{type:'application/json'}));
  a.download=`links-${new Date().toISOString().slice(0,10)}.json`;
  a.click();msg("Backup salvo");
}
function imp(e){
  const f=e.target.files[0];if(!f)return;
  const r=new FileReader();
  r.onload=function(ev){try{const d=JSON.parse(ev.target.result);
    if(Array.isArray(d)){
      lnks=d.map(l=>l.n?l:{n:l.name||'',u:l.url||'',p:l.product||'',c:l.category||'Outro',s:l.status||'Ativo',pl:l.platform||'Outro',no:l.notes||''});
      sv();render();msg(d.length+" links importados");
    }}catch(e){msg("Erro");}};
  r.readAsText(f);e.target.value="";
}

document.getElementById("s").addEventListener("input",e=>{qry=e.target.value;document.getElementById("sx").classList.toggle("on",!!qry);render();});
document.addEventListener("keydown",e=>{if(e.key==="Escape"){clSh();clPm();}});

render();
</script>
</body>
</html>
